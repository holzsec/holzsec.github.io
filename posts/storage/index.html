<!doctype html>
<html data-bs-theme="">
    <head>
                <title>Unraid - holzsec</title>

            <meta charset="utf-8">
            <meta http-equiv="X-UA-Compatible" content="IE=edge">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">

            
            
            

            
                <link  rel="icon" type="image/x-icon" href="../../assets/img/holzsec.webp">
            
                <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
                <link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.4.0/styles/base16/grayscale-dark.min.css">
                <script>hljs.highlightAll();</script>
            <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Fira+Mono:400,700">
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
            <link rel="stylesheet" href="../../assets/css/bootstrap.min.css">
            <link rel="stylesheet" href="../../assets/css/root.min.css">
            <link rel="stylesheet" href="../../assets/css/main.min.css">
                <script src="../../search/main.js"></script>

            
                
                    
                    
                    
                     <style>:root {--background: var(--color-white);}</style> 
                
            
    </head>

    <body>
        <div class="container py-3">
            <header>
                    <!-- block header -->
<nav class="navbar navbar-expand-xl border-bottom">
    <div class="container-fluid">
        
            <img class="logo" src="../../assets/img/holzsec.webp">
        

        
            <span class="bold fs-4 title-color site-name" id="component-site-name" style="text-transform: uppercase;">holzsec</span>
        

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarsMenu"
            aria-controls="navbarsMenu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse flex-column ml-auto" id="navbarsMenu">
            <ul class="navbar-nav">

                <!-- block menu -->
                <li class="nav-item">
                    <!-- block menu -->
    
        <li class="nav-item" id="component-menu">
            <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="
                            nav-link text-gray text-decoration-none" href="../..">[Home]</a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class=" active 
                            nav-link dropdown-toggle text-decoration-none" href="#" data-bs-toggle="dropdown">[Posts]</a>
                            <ul class="dropdown-menu">
                                    <!-- block dropdown-menu -->
    <li>
        <a href="../emailstandards/" class="dropdown-item text-decoration-none ">Email Security Standards</a>
    </li>
<!-- endblock -->
                                    <!-- block dropdown-menu -->
    <li>
        <a href="../mikrotik/" class="dropdown-item text-decoration-none ">Mikrotik Routerboard Home Setup</a>
    </li>
<!-- endblock -->
                                    <!-- block dropdown-menu -->
    <li>
        <a href="./" class="dropdown-item text-decoration-none  active ">Unraid</a>
    </li>
<!-- endblock -->
                            </ul>
                        </li>
            </ul>
        </li>
<!-- endblock -->
                </li>
                <!-- endblock -->

                <!-- block search -->
                <li class="nav-item">
                    <a class="collapsed" data-bs-toggle="collapse" href="#collapseExample" role="button" aria-expanded="false" aria-controls="collapseExample">
                        <div class="md-search-icon">
                            <i class="fa fa-search" aria-hidden="true"></i>
                        </div>
                    </a>
                </li>
                <!--  endblock -->

                <!-- block source -->
                <li class="nav-item">
                    
                </li>
                <!--  endblock -->
            </ul>
        </div>
    </div>
</nav>
<!--  endblock -->
            </header>

            <main><!-- block search -->
<div class="collapse" id="collapseExample">
    <div role="search" class="search-box">
        <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
            <input type="text" name="q" class="search-query"
            placeholder="Search docs" title="Type search term here" />
        </form>
    </div>
</div>
<!-- endblock -->

                
                        <!-- block content -->
<section class="container post" id="component-content">
    <article>
        <header>
            
            
        </header>
        <p><h1 id="unraid">Unraid</h1>
<h2 id="parity">Parity</h2>
<p>Unraid relies on 'even parity' for disk failure protection. Unraid stores the parity bits on a dedicated parity disk.   </p>
<p>The advantage of it: Unraid needs only one parity disk, independent of how many disks you have in your storage array. The only requirement is that the parity disk is equal or larger in size than the largest disk in the array.   </p>
<p>The disadvantage: Only one disk is allowed to fail (in default mode).   </p>
<blockquote>
<p>How does this work?  </p>
</blockquote>
<p>Parity is calculated as even parity:<br />
SUM of disk bits must be even.  </p>
<table>
<thead>
<tr>
<th></th>
<th>Disk1</th>
<th>Disk2</th>
<th>Disk3</th>
<th>Disk4</th>
<th>Parity</th>
</tr>
</thead>
<tbody>
<tr>
<td>Bit 0</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>Bit 1</td>
<td>0</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>In case Disk 1 fails:</p>
<table>
<thead>
<tr>
<th></th>
<th>Disk1</th>
<th>Disk2</th>
<th>Disk3</th>
<th>Disk4</th>
<th>Parity</th>
</tr>
</thead>
<tbody>
<tr>
<td>Bit 0</td>
<td>x1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>Bit 1</td>
<td>x2</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>Reconstructing Disk1:<br />
x1:  x + 0 + 1 + 1 + 1 = even, x1 must be 1<br />
x2:  x + 0 + 1 + 1 + 0 = even, x2 must be 0</p>
<p>Unraid also allows dual parity - two parity disks - that protects against any two disk failures. </p>
<details>
<summary>Change parity disk?</summary>
<br>
1. Stop the array
2. Unassign the old parity disk
3. Assign the new parity disk
4. Start the array!
</details>

<h2 id="transfer-data-from-external-drives-to-unraid">Transfer data from external drives to Unraid</h2>
<p>Goal: Data in one central deduplicated place, protected from disk failures.  </p>
<p>To mount external drives without assigning them to the array the <em>Unassigned Devices</em> App is necessary.  </p>
<p>With this App we also install <em>Unassigned Devices Preclear</em> to have <em>tmux</em> available on the Unraid server.  </p>
<p>Once <em>Unassigned Devices</em> is installed the USB-connected external drive will show up in the <em>Main</em> tab. By mounting it, it will be available under <em>mnt/disks/<Drivename></em>. We can simply open a terminal in that location and preprocess folders before transferring them to the array. For example folders with large amounts of subfolders can be reduced to a single archive with tar, xz or zip.   </p>
<pre><code>tar cf archive.tar folder 
(optional to also compress - T0 for multithreading: tar -c -I 'xz -T0' -f archive.tar.xz)
zip (-e for password protected archives) -r (recursive) &lt;archive_name&gt;.zip folder1 folder2 file3
</code></pre>
<p>Once the data from the external drive is preprocessed, files can be transferred with the <em>Midnight Commander</em> by executing <code>mc</code> in the terminal.</p></p>
    </article>
</section>
<!-- endblock -->
                
                
            </main>

            
                    <!-- block preview -->
    <div class="preview row row-cols-md-3 text-center pt-md-3" id="component-preview">
        <div class="col themed-grid-col">
            <a rel="prev" href="../mikrotik/" class="nav-link">
                <i class="fa fa-arrow-left"></i> Previous
            </a>
        </div>
        <div class="col themed-grid-col"></div>
        <div class="col themed-grid-col">
            <a rel="next" class="nav-link disabled">
                Next <i class="fa fa-arrow-right"></i>
            </a>
        </div>
    </div>
<!-- endblock -->
            

            
            
        </div>

            <script>var base_url = '../..';</script>
            <script src="../../assets/js/jquery-3.3.1.slim.min.js""></script>
            <script src="../../assets/js/bootstrap.bundle.min.js""></script>
            <script src="../../assets/js/main.min.js""></script>
                <script src="../../search/main.js" defer></script>

    </body>

</html>